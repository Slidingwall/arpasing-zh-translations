# 配合ARPAsing Assistant一起使用声库

本教程将会说明如何与ARPAsing Assistant配合使用Aparsing声库.
在制作UST工程文件之前, 您最好使用一份经过完整OTO原音设定的声库, 因为您调整的音长将取决于原音设定的值.

您可以从[这里]()下载ARPAsing Assistant插件.  解压, 并将"ARPAsing-assistant"文件夹移动到UTAU安装目录的"plugins"文件夹下.
将英语单词添加到音符上, 然后运行ARPAsing Assistant进行转换. 或者您也可以在音符上直接输入Arpabet音素, 并用空格隔开. 将`/u`放在音符歌词的末尾, 则每个双音素的音符时长将会平均分配, 而非音长不同.
您选择进行转换的音符后面必须有另一个音符, 确保这一点的最好办法是在整个UST的最后加上一个休止符.

要通过**输入单词**来添加多音节单词, 您需要将这个单词范围内内除了第一个音节以外的所有音符删除, 并将第一个音符的音长延长至单词结束的位置. 将整个单词添加到音符上并照常转换. 之后再恢复其他音节之前的音高和时长.
但直接**输入音素**就简单的多了, 您可以轻而易举地通过拆音将单词的音素分配到数个现有的音符上.

**对于多音高声库和额外采样来说:** 如果声库经过正确的配置, 那它应该可以正常工作, 但在某些情况下也可能会使ARPAsing Assistant报错. 声库根目录下必须包含一个不带后缀的音高, 并且其他音高都必须位于子文件夹中. 任何不属于ARPAsing标准的额外采样也必须位于子文件夹中. ARPAsing Assistant只读取根目录下的oto.ini, 且该文件只能包含标准的ARPAsing OTO原音设定.

将单词转化为双音节音素时, ARPAsing Assistant会根据上下文选择最适合的采样. 比如单词"stand", 它选择的音素`[t ae]`会来自于采样"stae"而不是采样"tae". 这样会使声库发出更自然的声音. 区分彼此不同的采样, 这是添加数字后缀的目的. 不要删除这些数字.

我们建议您在转换时使用无参的UST文件, 但您可以在转换之前调整音符的Flag和音量, 这些会被保留. PIT和颤音则会被弄的一团糟, 而且不会对准正确的音符, 因此建议先将其完全删除.

立即播放转换后的UST工程文件, 看看发音是否满意, 或是哪些地方需要修复. 有些音符可能不出声,有些发音可能不是您所取代的样子.
找出您不满意的音节. 如果您不熟悉Arpabet, 您可以在修音时参考[这篇文章]()或者[音素表]().

再来看看音长. 这个问题在多音节单词上尤为明显. 因为在转换为音素的时候需要被合并成一个音符, 所以它的时长会和预期效果产生偏差. 按住ctrl并拖动音符的末端来改变它的长度, 而无需将它们移到一边. 将它们对齐, 使得每个音节的CV部分都从预期的位置开始. 将这个音节的所有音符选中并上下移动, 以更改它的音高.
看看辅音开头的音节. (一般都是休止符后的第一个音节.) `[- C]`的音符一般都很短, 所以按住ctrl并拖动它的左端使其更长. 调整它的长度, 让它从下一个音符包络线开始的地方开始.

这里您可以通过将音符修改为下一个音符发声前包络线的长度一个个修复短音符的音长. 这便是为什么您所使用的声库需要完整的经过OTO原音设定了. 您可能希望将"量化"设为64分音符.
您还可以在这个过程中修改发音. 例如, "don't want" 会被拆分为`[d ow][ow n][n t][t w][w aa]` 等等. 但对于一段比较短的空间来说, 音符太多了. 实际上唱歌的时候, 这个短语听起来更像"don want". 所以, 删除`[n t]`并把`[t w]`改成`[n w]`.

至此, 您可以按照平时的习惯继续调校了.